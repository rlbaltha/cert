<?php

namespace AppBundle\Entity;

/**
 * ProjectRepository
 *
 * This class was generated by the Doctrine ORM. Add your own custom
 * repository methods below.
 */
class ProjectRepository extends \Doctrine\ORM\EntityRepository
{
    /**
     * find admin projects
     *
     * @return Project
     */
    public function findAdmin($status) {
        $type = 'Admin';
        $projects = $this->createQueryBuilder('p')
            ->andWhere('p.type = :type')
            ->andWhere('p.status = :status')
            ->setParameter('type', $type)
            ->setParameter('status', $status)
            ->orderBy('p.updated', 'DESC')
            ->getQuery()
            ->getResult();
        return $projects;
    }

}
